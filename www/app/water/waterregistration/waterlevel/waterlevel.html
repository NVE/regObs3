<ion-view view-title="Vannstand">
    <ion-content>
        <form name="waterLevelForm" novalidate>
            <ion-list>

                <ion-checkbox ng-model="vm.reg.WaterLevelChoice"
                              ng-true-value="1"
                              ng-change="vm.resetModel()">Elv
                </ion-checkbox>
                <ion-checkbox ng-model="vm.reg.WaterLevelChoice"
                              ng-true-value="2"
                              ng-change="vm.resetModel()">Innsjø/magasin
                </ion-checkbox>

                <div ng-show="vm.reg.WaterLevelChoice">

                    <regobs-number
                            field-name="vannstand"
                            label="Vannstand (m)"
                            help-text="I meter"
                            model="vm.reg.WaterLevel.WaterLevelValue"
                            min="0"
                    ></regobs-number>


                    <kdv-dropdown ng-show="vm.reg.WaterLevelChoice === 1"
                                  title="Referansenivå"
                                  model="vm.reg.WaterLevel.WaterLevelRefTID"
                                  kdv-key="Water_WaterLevelRefKDV"
                                  before="200">
                    </kdv-dropdown>

                    <kdv-dropdown ng-show="vm.reg.WaterLevelChoice === 2"
                                  title="Referansenivå"
                                  model="vm.reg.WaterLevel.WaterLevelRefTID"
                                  kdv-key="Water_WaterLevelRefKDV"
                                  after="200">
                    </kdv-dropdown>

                    <regobs-number
                            ng-if="vm.reg.WaterLevelChoice === 1"
                            field-name="vannføring"
                            label="Faktisk vannføring (m3/s)"
                            help-text="Gis som tall i m3/s"
                            model="vm.reg.WaterLevel.MeasuredDischarge"
                            min="0"
                            max="500000000"
                    ></regobs-number>
                    <regobs-comment
                            placeholder="Ytterligere beskrivelse"
                            model="vm.reg.WaterLevel.Comment"
                    ></regobs-comment>

                </div>

            </ion-list>
            <regobs-image-list></regobs-image-list>
        </form>
        <button ui-sref="help({page:'waterlevel'})" class="button button-positive button-block button-clear">
            Hjelp
        </button>

    </ion-content>
</ion-view>

